
CREATE SEQUENCE TB_USER_1_USER_ID_SEQ;

CREATE TABLE TB_USER_1 (
                USER_ID INTEGER NOT NULL DEFAULT NEXTVAL('TB_USER_1_USER_ID_SEQ'),
                USE_NAME VARCHAR(60) NOT NULL,
                USE_LOGIN VARCHAR(20) NOT NULL,
                USE_PASSWORD VARCHAR(80) NOT NULL,
                USE_EMAIL VARCHAR(30) NOT NULL,
                CONSTRAINT USER_ID PRIMARY KEY (USER_ID)
);
COMMENT ON COLUMN TB_USER_1.USER_ID IS 'PRIMARY KEY';
COMMENT ON COLUMN TB_USER_1.USE_NAME IS 'USER NAME';
COMMENT ON COLUMN TB_USER_1.USE_LOGIN IS 'LOGIN';
COMMENT ON COLUMN TB_USER_1.USE_PASSWORD IS 'PASSWORD';
COMMENT ON COLUMN TB_USER_1.USE_EMAIL IS 'EMAIL';


ALTER SEQUENCE TB_USER_1_USER_ID_SEQ OWNED BY TB_USER_1.USER_ID;

CREATE SEQUENCE TB_EVENT_EVENT_ID_SEQ;

CREATE TABLE TB_EVENT (
                EVENT_ID INTEGER NOT NULL DEFAULT NEXTVAL('TB_EVENT_EVENT_ID_SEQ'),
                EVE_NAME VARCHAR(60) NOT NULL,
                EVE_DATE_BEGIN DATE NOT NULL,
                EVE_DATE_END DATE NOT NULL,
                EVE_PLACE VARCHAR(80),
                EVE_NOTES VARCHAR(200),
                USER_ID INTEGER NOT NULL,
                CONSTRAINT EVENT_ID PRIMARY KEY (EVENT_ID)
);
COMMENT ON COLUMN TB_EVENT.EVENT_ID IS 'PRIMARY ID';
COMMENT ON COLUMN TB_EVENT.EVE_NAME IS 'EVENT NAME';
COMMENT ON COLUMN TB_EVENT.EVE_DATE_BEGIN IS 'BEGIN DATE';
COMMENT ON COLUMN TB_EVENT.EVE_DATE_END IS 'END DATE';
COMMENT ON COLUMN TB_EVENT.EVE_PLACE IS 'EVENT PLACE';
COMMENT ON COLUMN TB_EVENT.EVE_NOTES IS 'EVENT NOTES';
COMMENT ON COLUMN TB_EVENT.USER_ID IS 'PRIMARY KEY';


ALTER SEQUENCE TB_EVENT_EVENT_ID_SEQ OWNED BY TB_EVENT.EVENT_ID;

CREATE SEQUENCE TB_PERSON_PERSON_ID_SEQ;

CREATE TABLE TB_PERSON (
                PERSON_ID INTEGER NOT NULL DEFAULT NEXTVAL('TB_PERSON_PERSON_ID_SEQ'),
                PER_FIRST VARCHAR(40) NOT NULL,
                PER_MIDDLE VARCHAR(40),
                PER_LAST VARCHAR(40) NOT NULL,
                PER_SEX CHAR(1) NOT NULL,
                PER_SIN VARCHAR(20),
                PER_ACTIVE BOOLEAN NOT NULL,
                USER_ID INTEGER NOT NULL,
                CONSTRAINT PER_ID PRIMARY KEY (PERSON_ID)
);
COMMENT ON COLUMN TB_PERSON.PERSON_ID IS 'PRIMARY KEY';
COMMENT ON COLUMN TB_PERSON.PER_FIRST IS 'FIRST NAME';
COMMENT ON COLUMN TB_PERSON.PER_MIDDLE IS 'MIDDLE NAME';
COMMENT ON COLUMN TB_PERSON.PER_LAST IS 'LAST NAME';
COMMENT ON COLUMN TB_PERSON.PER_SIN IS 'SOCIAL INSURANCE NUMBER';
COMMENT ON COLUMN TB_PERSON.PER_ACTIVE IS 'IS ACTIVE?';
COMMENT ON COLUMN TB_PERSON.USER_ID IS 'PRIMARY KEY';


ALTER SEQUENCE TB_PERSON_PERSON_ID_SEQ OWNED BY TB_PERSON.PERSON_ID;

CREATE SEQUENCE TB_ADDRESS_ADDRESS_ID_SEQ;

CREATE TABLE TB_ADDRESS (
                ADDRESS_ID INTEGER NOT NULL DEFAULT NEXTVAL('TB_ADDRESS_ADDRESS_ID_SEQ'),
                ADD_TYPE VARCHAR(20),
                ADD_ADDRESS VARCHAR(60) NOT NULL,
                ADD_CITY VARCHAR(20),
                ADD_STATE VARCHAR(20),
                ADD_COUNTRY VARCHAR(20),
                ADD_ZIP VARCHAR(20),
                PERSON_ID INTEGER NOT NULL,
                CONSTRAINT ADD_ID PRIMARY KEY (ADDRESS_ID)
);
COMMENT ON COLUMN TB_ADDRESS.ADDRESS_ID IS 'PRIMARY KEY';
COMMENT ON COLUMN TB_ADDRESS.ADD_STATE IS 'STATE OR PROVINCE';
COMMENT ON COLUMN TB_ADDRESS.ADD_ZIP IS 'ZIP CODE';
COMMENT ON COLUMN TB_ADDRESS.PERSON_ID IS 'PRIMARY KEY';


ALTER SEQUENCE TB_ADDRESS_ADDRESS_ID_SEQ OWNED BY TB_ADDRESS.ADDRESS_ID;

CREATE SEQUENCE TB_EMAIL_EMAIL_ID_SEQ;

CREATE TABLE TB_EMAIL (
                EMAIL_ID INTEGER NOT NULL DEFAULT NEXTVAL('TB_EMAIL_EMAIL_ID_SEQ'),
                EMA_TYPE VARCHAR(20),
                EMA_EMAIL VARCHAR(30) NOT NULL,
                PERSON_ID INTEGER NOT NULL,
                CONSTRAINT EMA_ID PRIMARY KEY (EMAIL_ID)
);
COMMENT ON COLUMN TB_EMAIL.EMAIL_ID IS 'PRIMARY KEY';
COMMENT ON COLUMN TB_EMAIL.PERSON_ID IS 'PRIMARY KEY';


ALTER SEQUENCE TB_EMAIL_EMAIL_ID_SEQ OWNED BY TB_EMAIL.EMAIL_ID;

CREATE SEQUENCE TB_PHONE_PHONE_ID_SEQ;

CREATE TABLE TB_PHONE (
                PHONE_ID INTEGER NOT NULL DEFAULT NEXTVAL('TB_PHONE_PHONE_ID_SEQ'),
                PHO_TYPE VARCHAR(20),
                PHO_NUMBER VARCHAR(20) NOT NULL,
                PERSON_ID INTEGER NOT NULL,
                CONSTRAINT PHO_ID PRIMARY KEY (PHONE_ID)
);
COMMENT ON COLUMN TB_PHONE.PHONE_ID IS 'PRIMARY KEY';
COMMENT ON COLUMN TB_PHONE.PHO_NUMBER IS 'PHONE NUMBER';
COMMENT ON COLUMN TB_PHONE.PERSON_ID IS 'PRIMARY KEY';


ALTER SEQUENCE TB_PHONE_PHONE_ID_SEQ OWNED BY TB_PHONE.PHONE_ID;

ALTER TABLE TB_EVENT ADD CONSTRAINT USER_1_EVENT_FK
FOREIGN KEY (USER_ID)
REFERENCES TB_USER_1 (USER_ID)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE TB_PERSON ADD CONSTRAINT USER_1_PERSON_FK
FOREIGN KEY (USER_ID)
REFERENCES TB_USER_1 (USER_ID)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE TB_EMAIL ADD CONSTRAINT PERSON_EMAIL_FK
FOREIGN KEY (PERSON_ID)
REFERENCES TB_PERSON (PERSON_ID)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE TB_ADDRESS ADD CONSTRAINT PERSON_ADDRESS_FK
FOREIGN KEY (PERSON_ID)
REFERENCES TB_PERSON (PERSON_ID)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE TB_PHONE ADD CONSTRAINT PERSON_PHONE_FK
FOREIGN KEY (PERSON_ID)
REFERENCES TB_PERSON (PERSON_ID)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;